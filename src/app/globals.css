@tailwind base;
@tailwind components;
@tailwind utilities;

/* Simple CSS variables for AnimeHaus */
:root {
  /* Base theme colors */
  --background: 220 26% 5%;      /* Very dark blue */
  --foreground: 210 40% 98%;     /* Soft white */
  
  --card: 220 26% 8%;            /* Dark blue for cards */
  --card-foreground: 210 40% 98%;
  
  --primary: 213 91% 38%;        /* Anime blue */
  --primary-foreground: 210 40% 98%;
  
  --secondary: 32 91% 54%;       /* Anime orange */
  --secondary-foreground: 220 26% 5%;
  
  --muted: 220 13% 15%;          /* Dark gray */
  --muted-foreground: 210 40% 60%;
  
  --accent: 47 91% 58%;          /* Golden yellow */
  --accent-foreground: 220 26% 5%;
  
  --border: 220 13% 20%;         /* Subtle borders */
  --input: 220 13% 20%;          /* Inputs */
  --ring: 213 91% 38%;           /* Focus ring */
  
  --radius: 0.75rem;             /* Border radius */
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: 'Inter', sans-serif;
}

html {
  scroll-behavior: smooth;
}

/* Character card animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.character-card {
  animation: fadeIn 0.5s ease-out;
}

/* Gradient text utility */
.gradient-text {
  background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--secondary)) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Radial gradient utility */
.bg-gradient-radial {
  background: radial-gradient(circle, var(--tw-gradient-stops));
}

/* Wallpaper selector styles */
.wallpaper-body {
  transition: background-image 0.5s ease-in-out;
}

.wallpaper-body.has-custom-bg {
  background-attachment: fixed;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Hard-disable any default gradient when custom wallpaper is active */
body.has-custom-bg,
html.has-custom-bg {
  background: transparent !important;
  background-image: none !important;
}

/* Overlay para wallpapers personalizados */
#wallpaper-overlay {
  backdrop-filter: blur(0.5px);
  background: rgba(0, 0, 0, 0.3);
}

/* Full-screen background layer for selected wallpaper */
#wallpaper-bg {
  z-index: 0;
}

/* Asegurar que el contenido esté por encima del wallpaper */
.wallpaper-content {
  position: relative;
  z-index: 10;
}

/* Clase especial para dropdown con máximo z-index */
.dropdown-highest {
  z-index: 2147483647 !important; /* Máximo z-index posible */
  position: fixed !important;
}

.backdrop-highest {
  z-index: 2147483646 !important;
  position: fixed !important;
}

/* When a custom wallpaper is active, reduce header overlays so the background is visible */
body.has-custom-bg .header-bg-overlay {
  opacity: 0.7 !important;
}
body.has-custom-bg .header-pattern-overlay {
  opacity: 0.15 !important;
}

/* Tone down global radial overlays when a custom wallpaper is active */
body.has-custom-bg .wallpaper-global-overlay {
  opacity: 0.08 !important;
}

/* Replace homepage yellow skull background with selected wallpaper */
body.has-custom-bg .homepage-flag-bg {
  display: none !important;
}

/* --- One Piece Themed Enhancements --- */
.op-card {
  position: relative;
  background: linear-gradient(145deg, rgba(10,32,48,0.85) 0%, rgba(12,40,60,0.78) 55%, rgba(90,64,20,0.18) 100%);
  border: 1px solid rgba(255,199,120,0.25);
  box-shadow: 0 4px 18px -4px rgba(0,0,0,0.6), 0 0 0 1px rgba(255,210,130,0.05) inset;
}
.op-card:before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 25% 20%, rgba(255,230,170,0.28), transparent 60%);
  mix-blend-mode: overlay;
  opacity: 0.55;
  transition: opacity .6s ease;
  pointer-events: none;
}
.op-card:hover:before { opacity: 0.85; }
.op-card-disabled { filter: grayscale(12%) brightness(.92); }

/* --- Enhanced Game Tiles (homepage) --- */
.op-game-tile {
  --tile-bg: linear-gradient(145deg, rgba(12,34,50,0.88) 0%, rgba(14,46,68,0.82) 55%, rgba(120,84,30,0.20) 100%);
  background: var(--tile-bg);
  border: 1.5px solid rgba(255,200,120,0.25);
  box-shadow:
    0 2px 6px -2px rgba(0,0,0,0.65),
    0 0 0 1px rgba(255,210,130,0.05) inset,
    0 0 0 0 rgba(var(--glow-rgb,255,196,120),0.6),
    0 0 0 0 rgba(var(--glow-rgb,255,196,120),0.35) inset;
  transition: box-shadow .5s ease, border-color .5s ease, transform .4s ease;
  position: relative;
}
.op-game-tile:before, .op-game-tile:after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
}
.op-game-tile:before { /* subtle parchment & light */
  background:
    radial-gradient(circle at 26% 18%, rgba(255,235,190,0.25), transparent 60%),
    radial-gradient(circle at 80% 75%, rgba(255,188,110,0.15), transparent 65%);
  mix-blend-mode: overlay;
  opacity: .55;
  transition: opacity .6s ease;
}
.op-game-tile:after { /* animated rope & gold frame glow */
  background:
    conic-gradient(from 0deg, rgba(255,220,150,0.15), transparent 55%, rgba(255,220,150,0.15)),
    linear-gradient(140deg, rgba(255,220,150,0.08), transparent 40%, rgba(255,200,120,0.08));
  mask: linear-gradient(#000,#000) content-box, linear-gradient(#000,#000);
  -webkit-mask: linear-gradient(#000,#000) content-box, linear-gradient(#000,#000);
  mask-composite: exclude;
  -webkit-mask-composite: xor;
  padding: 1px; /* frame thickness */
  opacity: 0;
  transform: scale(.95);
  filter: blur(.5px) brightness(1.15);
  transition: opacity .5s ease, transform .5s ease;
}
.op-game-tile:hover {
  border-color: color-mix(in srgb, var(--glow, #ffc874) 60%, #ffecb3);
  box-shadow:
    0 10px 28px -8px rgba(0,0,0,0.75),
    0 0 0 1px rgba(255,220,160,0.12) inset,
    0 0 14px 2px var(--glow, #ffc874),
    0 0 28px 10px color-mix(in srgb, var(--glow, #ffc874) 35%, transparent),
    0 0 0 1px var(--glow, #ffc874) inset;
}
.op-game-tile:hover:before { opacity: .85; }
.op-game-tile:hover:after { opacity: .9; transform: scale(1); }

/* Fancy corner ornaments (anchors & skull hints) */
.op-game-tile .op-corners { pointer-events: none; }
.op-game-tile .op-corners span { position:absolute; width:18px; height:18px; display:block; }
.op-game-tile .op-corners span:before {
  content:""; position:absolute; inset:0; border:2px solid var(--glow, #ffc874); border-radius:4px; opacity:.55; transform:rotate(45deg) scale(.75); box-shadow:0 0 6px -1px var(--glow, #ffc874); transition:all .5s ease;
}
.op-game-tile:hover .op-corners span:before { opacity:.95; transform:rotate(45deg) scale(.95); }
.op-game-tile .op-corners .tl { top:6px; left:6px; }
.op-game-tile .op-corners .tr { top:6px; right:6px; }
.op-game-tile .op-corners .bl { bottom:6px; left:6px; }
.op-game-tile .op-corners .br { bottom:6px; right:6px; }

@media (prefers-reduced-motion: reduce) {
  .op-game-tile, .op-game-tile:after { transition: none; }
}

.op-badge {
  position: relative;
  overflow: hidden;
}
.op-badge:after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, rgba(255,215,140,0.18), rgba(255,184,80,0.05));
  mix-blend-mode: overlay;
  opacity: 0.35;
  pointer-events: none;
}

.op-map-overlay {
  background-image:
    repeating-linear-gradient(45deg, rgba(255,210,120,0.06) 0 2px, transparent 2px 12px),
    repeating-linear-gradient(-45deg, rgba(255,210,120,0.05) 0 2px, transparent 2px 12px);
  background-size: 140px 140px, 160px 160px;
  animation: opSlowPan 40s linear infinite;
}

@keyframes opSlowPan {
  0% { transform: translate3d(0,0,0); }
  50% { transform: translate3d(-8%, -6%, 0); }
  100% { transform: translate3d(0,0,0); }
}

.op-rope-divider {
  width: 100%;
  height: 10px;
  background:
    repeating-linear-gradient(45deg, #b07926 0 8px, #e8b457 8px 16px);
  mask: linear-gradient(to right, transparent, #000 8%, #000 92%, transparent);
  box-shadow: 0 2px 4px -2px rgba(0,0,0,0.7), 0 0 0 1px rgba(255,200,110,0.15) inset;
}

